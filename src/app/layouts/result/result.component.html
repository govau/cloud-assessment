<div class="row">
  <!-- LEFT COLUMN -->
  <div class="col-xs-4 left-col">
    <h2>Assessment Categories</h2>
    <table>
      <tr *ngFor="let item of Categories">
        <td style='width: 200px;cursor: pointer;'><a (click)="jumpToPage(item)">{{item}}</a></td>
        <td style="display:inline-flex; float: right">
          <span class="red-light">{{CountRedByCategory(item)}}</span>
          <span class="orange-light">{{CountOrangeByCategory(item)}}</span>
          <span class="green-light">{{CountGreenByCategory(item)}}</span></td>
      </tr>
    </table>
    <button class="au-btn" type="button" (click)="printReport()">Print Report</button>
  </div>

  <!-- RIGHT COLUMN -->
  <div class="col-xs-8 right-col">
    <h1>Cloud assessment report</h1>
    <p>Here are your assessment results sorted by assessment category. If you need to share these results you can you
      the Print report button to print or save a PDF copy.</p>
    <p>The service your have assessed is {{ServiceName}}, which you have indicated is categorised as {{CloudModel}} and
      is estimated to be used by {{NumberOfUsers}} users.</p>
    <p>You have indicated that the main purpose for use of {{ServiceName}} is as follows:</p>
    <p>{{ServicePurpose}}</p>
    <p>These assessment results were produced on {{ assessmentDate | date: 'dd/MM/yyyy' }}</p>

    <div class="panel panel-default" *ngFor="let item of Categories">
      <div class="panel-heading" [id]="item">{{item}}
        <p style="float: right"><span class="red-light">{{CountRedByCategory(item)}}</span>
          <span class="orange-light">{{CountOrangeByCategory(item)}}</span>
          <span class="green-light">{{CountGreenByCategory(item)}}</span></p>
      </div>

      <div *ngFor="let question of GetQuestionsByCategory(item)">
        <div class="panel-body" [ngClass]="{'panel-green':CalculateSymbol(question)==='green', 'panel-orange': CalculateSymbol(question)==='orange', 'panel-red':CalculateSymbol(question)==='red'}">
          <h2 *ngIf="CalculateSymbol(question)==='green'">
            <span class="traffic-green">&#10004;</span>
            {{question.Quality}}
          </h2>
          <h2 *ngIf="CalculateSymbol(question)==='orange'">
            <span class="traffic-orange">&#33;</span>
            {{question.Quality}}
          </h2>
          <h2 *ngIf="CalculateSymbol(question)==='red'">
            <span class="traffic-red">&#10005;</span>
            {{question.Quality}}
          </h2>
          <p *ngIf="question.ValueType==='Integer'&&(question.AssessmentValue==='Not applicable'||question.AssessmentValue==='Unsure')">You
            provided a rating of {{question.AssessmentValue}}</p>
          <p *ngIf="question.ValueType==='Integer'&&(question.AssessmentValue!=='Not applicable'&&question.AssessmentValue!=='Unsure')">You
            provided a rating of {{question.AssessmentValue}}/5</p>
          <p *ngIf="question.ValueType==='OR'">You answered {{GetXORAssessmentValue(question.AssessmentValue)}}</p>
          <p *ngIf="question.ValueType==='XOR'">You answered {{question.AssessmentValue}}</p>
          <div>
            <p>You provided the following rationale for the score:
            </p>
            <p *ngIf="question.Comments">{{question.Comments}}</p>
            <p *ngIf="CalculateSymbol(question)==='green'">You have provided a rating that indicates the service is
              acceptable for this measure.</p>
            <p *ngIf="CalculateSymbol(question)==='orange'">You provided a rating for this measure that may indicate
              shortcomings in this area.</p>
            <p *ngIf="CalculateSymbol(question)==='red'">You provided a rating for this measure that indicates issues
              in this area.</p>
          </div>
        </div>
      </div>
      <p class="top">&#10224; <a (click)="backToTop()">Back to top</a></p>
    </div>
  </div>
</div>

<!-- <div class="row">
  <pre>{{assessmentQuestion|json}}</pre>
  <a [href]="downloadUri" download="download.json">Download</a>
</div> -->